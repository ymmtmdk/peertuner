{"version":3,"sources":["webpack:///webpack/bootstrap 7f8a99cc8c4eeae646ea","webpack:///external \"React\"","webpack:///./node_modules/events/events.js","webpack:///./src/components/TunerC.tsx","webpack:///./src/tunerView.ts","webpack:///./src/index.tsx","webpack:///external \"ReactDOM\"","webpack:///./src/components/PeerJs.tsx","webpack:///./src/note.ts","webpack:///./src/communicator.ts","webpack:///external \"Peer\"","webpack:///./src/tuner.ts","webpack:///./src/pitcher.ts","webpack:///./src/complex.ts"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AC7DA,uB;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AA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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7f8a99cc8c4eeae646ea","module.exports = React;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 0\n// module chunks = 0","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/events/events.js\n// module id = 1\n// module chunks = 0","import * as React from \"react\";\n// import { EventEmitter } from 'events';\nimport { PeerId, Communicator } from \"../communicator\";\n// import { Tuner } from \"../tuner\";\n\ninterface TunerCProps {\n  readonly communicator: Communicator;\n}\n\nexport class TunerC extends React.Component<TunerCProps, undefined> {\n  // tuner;\n  render() {\n    return <div>\n      <p id=\"hz\">hz = </p>\n      <p id=\"note\">note = </p>\n      <canvas id=\"wave\">\n      </canvas>\n      </div>\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/TunerC.tsx","import Note from './note';\n\nexport class TunerView{\n  canvas;\n  canvasContext;\n  hzElement;\n  noteElement;\n\n  constructor(){\n    // this.canvas = null;\n    // this.canvasContext = null;\n    this.canvas = document.getElementById(\"wave\");\n    this.canvasContext = this.canvas.getContext(\"2d\");\n    this.hzElement = document.getElementById(\"hz\");\n    this.noteElement = document.getElementById(\"note\");\n  }\n\n  setPixel(imageData, x: number, y: number, color) {\n    const width = imageData.width;\n    const data = imageData.data;\n    const index = ((width * y) + x) * 4;\n    if (!isNaN(color.r)) {\n      data[index] = color.r;\n    }\n    if (!isNaN(color.g)) {\n      data[index + 1] = color.g;\n    }\n    if (!isNaN(color.b)) {\n      data[index + 2] = color.b;\n    }\n    if (!isNaN(color.a)) {\n      return data[index + 3] = color.a;\n    }\n  }\n\n  drawWave(buffer, note: Note) {\n    let x, y;\n    this.canvasContext.save();\n    this.canvasContext.fillStyle = \"rgb(30, 30, 30)\";\n    this.canvasContext.fillRect(0, 0, this.canvas.width, this.canvas.height);\n    this.canvasContext.restore();\n    const imageData = this.canvasContext.getImageData(0, 0, this.canvas.width, this.canvas.height);\n    const color = {\n      r: 200,\n      g: 200,\n      b: 200,\n      a: 255\n    };\n    const red = {\n      r: 200,\n      g: 0,\n      b: 0,\n      a: 255\n    };\n\n    const width = imageData.width;\n    const height = imageData.height;\n    for (let x = 0; x < width; x++){\n      y = Math.floor(height/2+buffer[x*2]*height)\n      this.setPixel(imageData, x, y, color);\n    }\n\n    x = Math.round(width/2 + width * note.diff())\n    for (let y = 0; y < height; y++){\n      this.setPixel(imageData, x, y, color);\n      this.setPixel(imageData, width/2, y, red);\n    }\n    this.canvasContext.putImageData(imageData, 0, 0);\n  };\n\n  setText(hz, note:Note){\n    this.hzElement.innerHTML = 'hz = ' + hz;\n    this.noteElement.innerHTML = 'note = ' + note.name();\n  }\n\n  draw(wave, hz){\n    const note = new Note(hz);\n    this.drawWave(wave, note);\n    if (hz < 30){\n      return;\n    }\n    this.setText(hz, note);\n  }\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/tunerView.ts","import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\n\nimport { PeerJs } from \"./components/PeerJs\";\nimport { Communicator } from \"./communicator\";\nimport { Tuner } from \"./tuner\";\nimport { TunerC } from \"./components/TunerC\";\n\nconst APIKEY = 'c86fbf19-fbee-4b25-80ea-02b27155ec51';\n\nasync function wait(n){\n  await new Promise(r=>setTimeout(r, n));\n}\nasync function main(){\n  const m = location.href.match(/#(\\w+)/);\n  const communicator = new Communicator(APIKEY);\n  console.log(m);\n  if (m){\n    await communicator.prepare();\n    ReactDOM.render(\n      <PeerJs communicator={communicator} />,\n      document.getElementById(\"main\")\n    );\n  }\n  else{\n    ReactDOM.render(\n      <TunerC communicator={communicator} />,\n      document.getElementById(\"main\")\n    );\n    const tuner = new Tuner();\n    tuner.main();\n    await communicator.prepare();\n    communicator.on(\"accept\", e=>{\n      console.log(\"accept\");\n      tuner.onData = hz=>{\n        communicator.send(hz);\n      };\n    });\n  }\n}\n\nwindow.onload = ()=> main().then();\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.tsx","module.exports = ReactDOM;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReactDOM\"\n// module id = 5\n// module chunks = 0","import * as React from \"react\";\nimport { EventEmitter } from 'events';\nimport { PeerId, Communicator } from \"../communicator\";\nimport { TunerC } from \"./TunerC\";\nimport { TunerView } from '../tunerView';\n\ninterface LogProps {\n  readonly contents: Array<any>;\n}\n\nclass Log extends React.Component<LogProps, undefined> {\n  render() {\n    return <div>\n      log:\n    {this.props.contents.map((e,i)=><div key={i}>{e}</div>)}\n      </div>\n  }\n}\n\ninterface PeerProps {\n  readonly emitter: EventEmitter;\n  readonly peer: PeerId;\n}\n\nclass Peer extends React.Component<PeerProps, undefined> {\n  onClick(e){\n    e.stopPropagation();\n    this.props.emitter.emit(\"connecting\", {source: this, data: this.props.peer});\n  }\n\n  render() {\n    return <div>\n      <a href=\"#\" onClick={this.onClick.bind(this)}>\n      {this.props.peer}\n      </a>\n      </div>\n  }\n}\n\ninterface PeersProps {\n  readonly emitter: EventEmitter;\n  readonly peers: Array<PeerId>;\n}\n\nclass Peers extends React.Component<PeersProps, undefined> {\n  render() {\n    return <div>\n      peers:\n    <div>\n    {this.props.peers.map((e)=><Peer emitter={this.props.emitter} key={e} peer={e}/>)}\n    </div>\n      </div>\n  }\n}\n\ninterface PeerJsProps {\n  readonly communicator: Communicator;\n}\n\nexport class PeerJs extends React.Component<PeerJsProps, undefined> {\n  readonly emitter: EventEmitter;\n  readonly state;\n  tunerView;\n\n  private log(text){\n    this.state.logs.push(text);\n    this.setState({logs: this.state.logs});\n  }\n\n  constructor(props) {\n    super(props);\n    this.emitter = new EventEmitter();\n    this.state = {peers: [], logs: [\"init\"]};\n\n    props.communicator.allPeers().then(e=>{\n      this.emitter.emit(\"peers\", {source: this, data: e});\n    });\n\n    props.communicator.on(\"accept\", e=>{\n      this.tunerView = new TunerView();\n      this.log(\"accept\");\n    });\n\n    props.communicator.on(\"recieve\", e=>{\n      this.tunerView.draw([], e.data);\n    });\n\n    this.emitter.on(\"peers\", e=>{\n      this.setState({peers: e.data});\n    });\n\n    this.emitter.on(\"connecting\", e=>{\n      props.communicator.connect(e.data);\n    });\n  }\n\n  send(e): void {\n    e.stopPropagation();\n    this.props.communicator.send(\"h\");\n  }\n\n  allPeers(e): void {\n    e.stopPropagation();\n    this.props.communicator.allPeers().then(e=>{\n      this.emitter.emit(\"peers\", {source: this, data: e});\n    });\n  }\n\n  render() {\n    return <div>\n      <div>myId: {this.props.communicator.peerId}</div>\n      <hr />\n\n      <button onClick={this.send.bind(this)}>send</button>\n      <button onClick={this.allPeers.bind(this)}>allPeers</button>\n      <Peers emitter={this.emitter} peers={this.state.peers} />\n      <TunerC communicator={this.props.communicator} />\n      <Log contents={this.state.logs} />\n      </div>;\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/PeerJs.tsx","class Note{\n  readonly hz: number;\n  readonly base: number;\n  readonly note: number;\n  constructor(hz: number) {\n    this.hz = hz;\n    this.base = 55;\n    this.note = Math.log(this.hz / this.base) / Math.log(2) * 12;\n  }\n\n  name(): string {\n    const names = [\"A\",\"A#\",\"B\",\"C\",\"C#\",\"D\",\"D#\",\"E\",\"F\",\"F#\",\"G\",\"G#\"];\n    const note12 = (this.note >= 0) ? this.note % 12 : this.note % 12 + 12;\n    var i = Math.floor((note12 + 0.5) % 12);\n    return names[i];\n  }\n\n  diff(): number {\n    return (this.note + 0.5) % 1 - 0.5;\n  }\n}\n\nexport default Note;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/note.ts","import Peer from \"skyway-peerjs\";\nimport { EventEmitter } from 'events';\n\nexport type PeerId = string;\n\nclass Transmitter{\n  private readonly conn;\n\n  constructor(conn){\n    this.conn = conn;\n  }\n\n  send(data){\n    this.conn.send(data);\n  }\n}\n\nclass Reciever{\n  private readonly conn;\n  private readonly emitter: EventEmitter;\n\n  constructor(conn, emitter){\n    this.conn = conn;\n    this.emitter = emitter;\n    this.conn.on('data', (data)=> {\n      this.emitter.emit('recieve', {source: this, data: data});\n    });\n    this.conn.on('error', (e)=>{\n      console.log(e);\n    });\n  }\n}\n\nexport class Communicator{\n  peerId: PeerId;\n  private readonly peer: Peer;\n  private readonly recievers: Map<PeerId, Reciever>;\n  private readonly transmitters: Map<PeerId, Transmitter>;\n  private readonly emitter: EventEmitter;\n\n  constructor(apikey){\n    this.peer = new Peer({key: apikey});\n    this.recievers = new Map<PeerId, Reciever>();\n    this.transmitters = new Map<PeerId, Transmitter>();\n    this.emitter = new EventEmitter;\n\n    this.peer.on('connection', (conn)=>{\n      console.log(\"con\");\n      this.accept(conn);\n      this.emitter.emit(\"accept\", {source: this, data: conn});\n    });\n    this.peer.on('error', (e)=>{\n      console.log(e);\n    });\n  }\n\n  async allPeers(): Promise<Array<PeerId>>{\n    const list = await new Promise(r => this.peer.listAllPeers(r));\n    const a = list as Array<PeerId>;\n    return a.filter(e=>e!=this.peerId);\n  }\n\n  async prepare(): Promise<void>{\n    const id = await new Promise(r => this.peer.on('open', r));\n    this.peerId = id as PeerId;\n  }\n\n  connect(destId: PeerId): void{\n    if (!this.transmitters.get(destId)){\n      const conn = this.peer.connect(destId);\n      this.transmitters.set(destId, new Transmitter(conn));\n    }\n  }\n\n  accept(conn): void{\n    const destId = conn.peer;\n    if (!this.recievers.get(destId)){\n      this.connect(destId);\n      const reciever = new Reciever(conn, this.emitter);\n      this.recievers.set(destId, reciever);\n    }\n  }\n\n  send(message: any): void{\n    for (const t of this.transmitters.values()) {\n      t.send(message);\n    }\n  }\n\n  on(type, handler){\n    this.emitter.on(type, handler);\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/communicator.ts","module.exports = Peer;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Peer\"\n// module id = 9\n// module chunks = 0","import Note from './note';\nimport Pitcher from './pitcher';\nimport { TunerView } from './tunerView';\n\nexport class Tuner{\n  audioContext;\n  onData;\n  view;\n\n  constructor(){\n    this.audioContext = null;\n    this.onData = null;\n    this.view= new TunerView();\n  }\n\n  connectRecorder(stream) {\n    this.audioContext = new AudioContext();\n    const bufferSize = 2048;\n    const recorder = this.audioContext.createScriptProcessor(bufferSize, 2, 2);\n    let counter = 0;\n    recorder.onaudioprocess = (e)=> {\n      const span = document.hasFocus() ? 2 : 20;\n      if (counter++ % span != 0) {\n        return;\n      }\n      const left = e.inputBuffer.getChannelData(0);\n      const hz = Pitcher.pitch(left, this.audioContext.sampleRate);\n      if (this.onData){\n        this.onData(hz);\n      }\n\n      this.view.draw(left, hz);\n    };\n\n    const input = this.audioContext.createMediaStreamSource(stream);\n    input.connect(recorder);\n    return recorder.connect(this.audioContext.destination);\n  }\n\n  main(){\n    const nav: any = navigator;\n    const win: any = window;\n\n    if (!nav.getUserMedia) {\n      nav.getUserMedia = nav.getUserMedia || nav.webkitGetUserMedia || nav.mozGetUserMedia || nav.msGetUserMedia;\n    }\n    if (!win.AudioContext) {\n      win.AudioContext = win.webkitAudioContext;\n    }\n    if (!nav.getUserMedia || !win.AudioContext) {\n      alert(\"not supported in this browser.\");\n      return;\n    }\n\n    nav.getUserMedia(\n      { audio: true },\n      this.connectRecorder.bind(this), ()=> {alert(\"error capturing audio.\");}\n    );\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/tuner.ts","import Complex from './complex';\n\nclass Pitcher{\n  private static parabola(nsdf: Array<number>, i:number){\n    const a = nsdf[i-1];\n    const b = nsdf[i];\n    const c = nsdf[i+1];\n\n    const bottom = a + c - 2.0 * b;\n    let x:number, y:number;\n    if (bottom === 0.0){\n      x = i;\n      y = b;\n    }else{\n      const delta = a - c;\n      x = i + delta / (2.0 * bottom);\n      y = b - delta * delta / (8.0 * bottom);\n    }\n    return {x:x, y:y};\n  }\n\n  private static acf(x: Array<Complex>){\n    const n = x.length;\n    const tmp = new Array<Complex>();\n    for (let i = 0; i < n; i++){tmp[i] = x[i];}\n    for (let i = n; i < (n*2); i++){tmp[i] = new Complex(0,0);}\n\n    FFT.fft(tmp, n*2);\n    for (let i = 0; i < (n*2); i++){tmp[i] = tmp[i].abs2();}\n\n    FFT.fft(tmp, n*2);\n    const out = new Array<number>();\n    for (let i = 0; i < n; i++){out[i] = tmp[i].real/n/2;}\n    return out;\n  }\n\n  private static nsdf(x: Array<Complex>){\n    const n = x.length;\n    const out = this.acf(x);\n    let tsq = out[0]*2.0;\n    for (let i = 0; i < n; i++){\n      out[i] = tsq>0.0 ? out[i]/tsq : 0.0;\n      tsq -= Math.pow(x[n-1-i].real, 2) + Math.pow(x[i].real, 2);\n    }\n    return out;\n  }\n\n  private static peakPicking(nsdf: Array<number>){\n    let head = 0;\n    const peakIndexes = new Array<number>();\n    const n = nsdf.length - 1;\n    let i = 0;\n    for (; i < n && nsdf[i] > 0; i++){\n      // nop\n    }\n    for (; i < n; i++){\n      const pi = peakIndexes[head];\n      if (nsdf[i] > 0){\n        if (pi === undefined || nsdf[i] > nsdf[pi]){\n          peakIndexes[head] = i;\n        }\n      }else if (pi !== undefined){\n        head += 1;\n      }\n    }\n\n    return peakIndexes;\n  }\n\n  static pitch(ary: Array<number>, sampleRate: number){\n    const DEFAULT_CUTOFF = 0.95;\n\n    const x = new Array<Complex>();\n    for (let i = 0; i < ary.length; i++) x[i] = new Complex(ary[i], 0);\n\n    const nsdf = this.nsdf(x);\n\n    const peakIndexes = this.peakPicking(nsdf);\n    if (peakIndexes.length === 0) return -1.0;\n\n    const periods = new Array<number>();\n    const amps = new Array<number>();\n\n    let maxAmp = 0;\n    for (let i = 0; i < peakIndexes.length; i++){\n      const h = this.parabola(nsdf, peakIndexes[i]);\n      maxAmp = Math.max(maxAmp, h.y);\n      amps.push(h.y);\n      periods.push(h.x);\n    }\n\n    if (maxAmp < 0.35) return -1.0;\n\n    let idx = amps.findIndex(e=> e > DEFAULT_CUTOFF * maxAmp);\n    if (idx === -1) return -1.0;\n\n    return sampleRate / periods[idx];\n  }\n}\n\nclass FFT{\n  private static fft_inner(n: number,stride: number,copy_flag: boolean,x: Array<Complex>,y: Array<Complex>) {\n    if(n <= 1) {\n      for (let q = 0; copy_flag && q < stride; q++){ y[q] = x[q]; }\n      return;\n    }\n\n    const m = Math.floor(n/2);\n    const theta = 2.0 * Math.PI / n;\n    for (let p = 0; p < m; p++){\n      const wp = new Complex(Math.cos(p * theta),-Math.sin(p * theta));\n      for (let q = 0; q < stride; q++){\n        const a = x[q + stride * p];\n        const b = x[q + stride * (p + m)];\n        y[q + stride * (2*p+0)] = a.plus(b);\n        y[q + stride * (2*p+1)] = a.minus_bang(b).multi(wp);\n      }\n    }\n    FFT.fft_inner(m, 2*stride, !copy_flag, y, x);\n  }\n\n  static fft(x: Array<Complex>, n: number) {\n    FFT.fft_inner(n, 1, false, x, new Array<Complex>());\n  }\n}\n\nexport default Pitcher;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pitcher.ts","class Complex{\n  real: number;\n  imag: number;\n\n  constructor(r:number, i:number){\n    this.real = r;\n    this.imag = i;\n  }\n\n  multi_f(f:number):Complex{\n    return new Complex(this.real*f, this.imag*f);\n  }\n\n  multi_f_bang(f:number):Complex{\n    this.real *= f;\n    this.imag *= f;\n    return this;\n  }\n\n  multi(c:Complex):Complex{\n    return new Complex(this.real*c.real-this.imag*c.imag, this.real*c.imag+this.imag*c.real);\n  }\n\n  multi_bang(c:Complex):Complex{\n    this.real = this.real*c.real-this.imag*c.imag;\n    this.imag = this.real*c.imag+this.imag*c.real;\n    return this;\n  }\n\n  minus(c:Complex):Complex{\n    return new Complex(this.real-c.real, this.imag-c.imag);\n  }\n\n  minus_bang(c:Complex):Complex{\n    this.real-=c.real;\n    this.imag-=c.imag;\n    return this;\n  }\n\n  plus(c:Complex):Complex{\n    return new Complex(this.real+c.real, this.imag+c.imag);\n  }\n\n  plus_bang(c:Complex):Complex{\n    this.real+=c.real;\n    this.imag+=c.imag;\n    return this;\n  }\n\n  exp():Complex{\n    var expreal = Math.exp(this.real);\n    return new Complex(expreal * Math.cos(this.imag), expreal * Math.sin(this.imag));\n  }\n\n  exp_bang():Complex{\n    var expreal = Math.exp(this.real);\n    this.real = expreal * Math.cos(this.imag);\n    this.imag = expreal * Math.sin(this.imag);\n    return this;\n  }\n\n  abs2():Complex{\n    return new Complex(this.real*this.real + this.imag*this.imag, 0);\n  }\n}\n\nexport default Complex;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/complex.ts"],"sourceRoot":""}